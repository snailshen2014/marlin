webpackJsonp([1],{"1Yd7":function(e,t){},"37ot":function(e,t){},"4Ezq":function(e,t){},"5/Gj":function(e,t){},HC9V:function(e,t){},M93x:function(e,t,a){"use strict";var l=a("xJD8"),n=a.n(l),r=a("VaRK");var s=function(e){a("Xjwb")},i=a("VU/8")(n.a,r.a,!1,s,"data-v-0d6bc8bc",null);t.default=i.exports},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("7+uW"),n=a("M93x"),r=a("/ocq"),s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"homeBox"},[a("el-container",{staticStyle:{height:"100%"}},[a("el-aside",{attrs:{width:"200px"}},[a("el-menu",{attrs:{"default-openeds":["1","3"]}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-message"}),e._v("Key管理")]),e._v(" "),a("el-menu-item",{attrs:{index:"1-1"}},[a("router-link",{attrs:{to:"/key"}},[e._v("单Key操作")])],1),e._v(" "),a("el-menu-item",{attrs:{index:"1-2"}},[a("router-link",{attrs:{to:"/key/batch/delete"}},[e._v("\n                   批量删除\n              ")])],1),e._v(" "),a("el-menu-item",{attrs:{index:"1-3"}},[a("router-link",{attrs:{to:"/key/batch/manage"}},[e._v("\n                    批量管理\n               ")])],1)],2),e._v(" "),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-menu"}),e._v("应用管理")]),e._v(" "),a("el-menu-item",{attrs:{index:"2-1"}},[a("router-link",{attrs:{to:"/app/register"}},[e._v("\n                 应用申请\n            ")])],1),e._v(" "),a("el-menu-item",{attrs:{index:"2-2"}},[a("router-link",{attrs:{to:"/app"}},[e._v("\n                   应用查询\n              ")])],1)],2),e._v(" "),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-setting"}),e._v("用户管理")]),e._v(" "),a("el-menu-item",{attrs:{index:"3-1"}},[a("router-link",{attrs:{to:"/user/info"}},[e._v("\n                用户查询\n            ")])],1),e._v(" "),a("el-menu-item",{attrs:{index:"3-2"}},[a("router-link",{attrs:{to:"/user/add"}},[e._v("\n                  新增用户\n             ")])],1)],2)],1)],1),e._v(" "),a("el-container",[a("el-header",{staticStyle:{"text-align":"right","font-size":"12px"}},[a("span",{staticStyle:{"font-size":"20px","margin-right":"25%","margin-left":"25%"}},[e._v("\n                     欢迎使用Marlin系统,在这里您可以申请接入Cache，管理您的Key。\n\n          ")]),e._v(" "),a("el-dropdown",[a("i",{staticClass:"el-icon-setting",staticStyle:{"margin-right":"15px"}}),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[e._v("退出")])],1)],1),e._v(" "),a("span",[e._v("用户名")])],1),e._v(" "),a("el-main",[a("router-view")],1),e._v(" "),a("el-footer",{staticStyle:{"text-align":"center",bottom:"0",position:"absolute",width:"100%"}},[e._v("Copyright © 2020 中间件架构组, All Rights Reserved")])],1)],1)],1)},staticRenderFns:[]};var i=a("VU/8")({},s,!1,function(e){a("tYsQ")},"data-v-3bfde34c",null).exports,o=a("Dd8w"),c=a.n(o),u=a("NYxO"),p={computed:c()({},Object(u.b)({cart:function(e){return e.cart}}),{total:function(){return this.cart.reduce(function(e,t){return e+t.price*t.count},0)}}),methods:{add:function(e){this.$store.commit("cartadd",e)},sub:function(e){this.cart[e].count>=1&&this.$store.commit("cartsub",e)},getSummaries:function(e){var t=this,a=e.columns,l=e.data,n=[];return a.forEach(function(e,a){if(console.log(e),console.log(a),0!==a)if(3!=a){var r=l.map(function(t){return Number(t[e.property])});"table_1_column_4"==e.id?(n[a]=r.reduce(function(e,t){var a=Number(t);return isNaN(a)?e:e+t},0),n[a]+=" 元"):n[a]="N/A"}else n[a]=t.cart.reduce(function(e,t){return e+t.price*t.count},0);else n[a]="总价"}),n}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",[e._v("购物车")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.cart,stripe:"","summary-method":e.getSummaries,"show-summary":""}},[a("el-table-column",{attrs:{prop:"text",label:"职位",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"价格",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"count",label:"数量",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"商品总价",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.count*t.row.price)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.add(t.$index)}}},[e._v("增加")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.sub(t.$index)}}},[e._v("减少")])]}}])})],1)],1)},staticRenderFns:[]};var m={components:{CartInfo:a("VU/8")(p,d,!1,function(e){a("Ql6+")},null,null).exports}},f={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("CartInfo")],1)},staticRenderFns:[]};a("VU/8")(m,f,!1,function(e){a("Whpv")},null,null).exports;var h=a("fZjL"),v=a.n(h),b=a("mtWM"),g=a.n(b),_={data:function(){return{clusters:this.$store.getters.getClusters,selectCluster:"",keyInput:"",keyValue:"",dialogVisible:!1,keys:[],dataForm:{id:"",value:"",ttl:""}}},methods:{queryKey:function(e){var t=this;g.a.get("http://localhost:8088/key/key?key="+e+"&cluster="+this.selectCluster).then(function(e){console.log("resp==="+e),-2!=e.data.code?-1!=e.data.code?t.keys=e.data.data:t.$alert(data.msg):t.$alert("key no exists.")})},addKey:function(e,t){var a=this;g.a.post("http://localhost:8088/key/key",{id:e,value:t,clusterName:this.selectCluster}).then(function(e){console.log(e)}).catch(function(e){console.log(e)}).finally(function(){a.dialogVisible=!1,a.queryKey(e,a.selectCluster)})},deleteFunc:function(e,t){var a=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){console.log(t.id),g.a.delete("http://localhost:8088/key/key",{data:{id:t.id,clusterName:a.selectCluster}}).finally(function(){a.keys=[]})})},editFunc:function(e,t){if(void 0==t){var a=this.dataForm;v()(a).forEach(function(e){a[e]=""}),this.dialogVisible=!0}else console.log(this.keys[e]),this.dataForm=this.keys[e],this.dialogVisible=!0},closeDialogFunc:function(){this.$refs.dataForm.resetFields(),this.dialogVisible=!1},saveFunc:function(){var e=this;this.$refs.dataForm.validate(function(t){if(!t)return!1;var a=e.dataForm;g.a.post("http://localhost:8088/key/key",{ttl:a.ttl,id:a.id,value:a.value,clusterName:e.selectCluster}).then(function(e){console.log(e)}).catch(function(e){console.log(e)}).finally(function(){e.dialogVisible=!1,e.queryKey(a.id,e.selectCluster)})})},mounted:function(){$(window).newresize(this.autoResize,200)},destroyed:function(){$(window).unbind("resize")}}},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticStyle:{"margin-left":"2%"},attrs:{inline:!0}},[a("el-row",[a("el-form-item",{attrs:{label:"集群"}},[a("el-select",{attrs:{placeholder:"请选择集群"},model:{value:e.selectCluster,callback:function(t){e.selectCluster=t},expression:"selectCluster"}},e._l(e.clusters,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Key"}},[a("el-input",{attrs:{placeholder:"请输入key",clearable:""},model:{value:e.keyInput,callback:function(t){e.keyInput=t},expression:"keyInput"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"value"}},[a("el-input",{attrs:{placeholder:"请输入value",clearable:""},model:{value:e.keyValue,callback:function(t){e.keyValue=t},expression:"keyValue"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.queryKey(e.keyInput)}}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.addKey(e.keyInput,e.keyValue)}}},[e._v("新增")])],1)],1)],1),e._v(" "),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.keys}},[a("el-table-column",{attrs:{prop:"id",label:"key",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"value",label:"value",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ttl",label:"ttl(second)",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"operate",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"text",size:"mini"},on:{click:function(a){return e.editFunc(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-edit"}),e._v("编辑")]),e._v(" "),a("el-button",{staticStyle:{color:"red"},attrs:{type:"text",size:"mini"},on:{click:function(a){return e.deleteFunc(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-delete"}),e._v("删除")])],1)]}}])})],1)],e._v(" "),a("el-dialog",{attrs:{title:"key 编辑",visible:e.dialogVisible,"before-close":e.closeDialogFunc},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"dataForm",attrs:{"label-width":"100px",model:e.dataForm}},[a("el-form-item",{attrs:{label:"key",prop:"id"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.dataForm.id,callback:function(t){e.$set(e.dataForm,"id",t)},expression:"dataForm.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"value",prop:"value"}},[a("el-input",{model:{value:e.dataForm.value,callback:function(t){e.$set(e.dataForm,"value",t)},expression:"dataForm.value"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"ttl(second)",prop:"ttl"}},[a("el-input",{model:{value:e.dataForm.ttl,callback:function(t){e.$set(e.dataForm,"ttl",t)},expression:"dataForm.ttl"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"concellbtn",on:{click:e.closeDialogFunc}},[e._v("取 消")]),e._v(" "),a("el-button",{staticClass:"savebtn",on:{click:e.saveFunc}},[e._v("确 定")])],1)],1)],2)},staticRenderFns:[]};var k={components:{Key:a("VU/8")(_,y,!1,function(e){a("kpxv")},null,null).exports}},x={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("Key")],1)},staticRenderFns:[]};var w=a("VU/8")(k,x,!1,function(e){a("OTEH")},null,null).exports,F=a("mvHQ"),S=a.n(F),C={data:function(){return{dialogVisible:!1,batchDetails:[]}},props:["batchs"],methods:{closeDialogFunc:function(){this.dialogVisible=!1},batchDetail:function(e,t){var a=this;if(void 0==t){var l=this.dataForm;v()(l).forEach(function(e){l[e]=""}),this.dialogVisible=!0}else console.log(this.batchs[e].ID),g.a.get("http://localhost:8088/key/detail?batchId="+this.batchs[e].ID).then(function(e){console.log("resp==="+e),a.batchDetails=e.data.data}),this.dialogVisible=!0}}},V={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.batchs}},[a("el-table-column",{attrs:{prop:"ID",label:"批次ID",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user_name",label:"操作人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"file_name",label:"文件名",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"处理状态(1:完成;0:待处理)",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"CreateAt",label:"创建时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"明细",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"text",size:"mini"},on:{click:function(a){return e.batchDetail(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-edit"}),e._v("查看")])],1)]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"批量处理明细",visible:e.dialogVisible,"before-close":e.closeDialogFunc},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.batchDetails}},[a("el-table-column",{attrs:{prop:"batch_id",label:"批次ID",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"key_name",label:"Key",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"处理状态(1:完成;0:待处理)",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"UpdateAt",label:"处理时间",align:"center"}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"concellbtn",on:{click:e.closeDialogFunc}},[e._v("关闭")])],1)],1)],1)},staticRenderFns:[]};var R=a("VU/8")(C,V,!1,function(e){a("HC9V")},null,null).exports,I={components:{Batch:R},data:function(){return{clusters:this.$store.getters.getClusters,selectCluster:"",fileList:[],form:{file:""},dialogVisible:!1,batchs:[],batchDetails:[]}},methods:{exceedFile:function(e,t){this.$notify.warning({title:"警告",message:"只能选择 "+this.limitNum+" 个文件，当前共选择了 "+(e.length+t.length)+" 个"})},fileChange:function(e,t){console.log("change"),console.log(e),this.form.file=e.raw,console.log(this.form.file),console.log(t)},beforeUploadFile:function(e){console.log("before upload"),console.log(e);var t=e.name.substring(e.name.lastIndexOf(".")+1),a=e.size/1024/1024;"txt"!==t&&this.$notify.warning({title:"警告",message:"只能上传（后缀是.txt）的文件"}),a>1&&this.$notify.warning({title:"警告",message:"文件大小不得超过1M"})},handleSuccess:function(e,t,a){var l=S()(e),n=JSON.parse(l);console.log("respons:----"+n),console.log("response code:"+n.code),console.log("response data:"+n.data),0==n.code?(this.batchs=n.data,this.$notify.success({title:"成功",message:"批量删除成功,请通过批次记录查询处理情况"}),this.$refs.uploadKeys.clearFiles()):this.$notify.success({title:"失败",message:"批量删除失败"})},handleError:function(e,t,a){this.$notify.error({title:"错误",message:"批量删除失败"})},uploadFile:function(){this.$refs.uploadKeys.submit()},batchDelete:function(){console.log("batch delete")},closeDialogFunc:function(){this.dialogVisible=!1},batchDetail:function(e,t){var a=this;if(void 0==t){var l=this.dataForm;v()(l).forEach(function(e){l[e]=""}),this.dialogVisible=!0}else console.log(this.batchs[e].ID),g.a.get("http://localhost:8088/key/detail?batchId="+this.batchs[e].ID).then(function(e){console.log("resp==="+e),a.batchDetails=e.data.data}),this.dialogVisible=!0}}},N={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticStyle:{"margin-left":"2%"},attrs:{inline:!0}},[a("el-row",[a("el-form-item",{attrs:{label:"集群"}},[a("el-select",{attrs:{placeholder:"请选择集群"},model:{value:e.selectCluster,callback:function(t){e.selectCluster=t},expression:"selectCluster"}},e._l(e.clusters,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.uploadFile}},[e._v("批量删除")])],1),e._v(" "),a("el-upload",{ref:"uploadKeys",staticClass:"upload-keys",attrs:{drag:"",action:"http://localhost:8088/key/upload",multiple:"",limit:1,"auto-upload":!1,accept:".txt","before-upload":e.beforeUploadFile,"on-change":e.fileChange,"on-exceed":e.exceedFile,"on-success":e.handleSuccess,"on-error":e.handleError,"file-list":e.fileList}},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传txt文件，文件中每行包含一个key,且大小不能超过1M")])])],1)],1),e._v(" "),a("br"),a("br"),e._v(" "),a("Batch",{attrs:{batchs:e.batchs}})],1)},staticRenderFns:[]};var z={components:{BatchKey:a("VU/8")(I,N,!1,function(e){a("ddSb")},null,null).exports}},U={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("BatchKey")],1)},staticRenderFns:[]};var D=a("VU/8")(z,U,!1,function(e){a("5/Gj")},null,null).exports,E={components:{Batch:R},data:function(){return{batchId:"",batchs:[]}},methods:{queryBatchInfo:function(){var e=this;console.log(this.batchId),void 0===this.batchId||""==this.batchId||null==this.batchId?(console.log("query all"),g.a.get("http://localhost:8088/key/batch").then(function(t){console.log("resp==="+t),e.batchs=t.data.data})):g.a.get("http://localhost:8088/key/batch/id?batchID="+this.batchId).then(function(t){console.log("resp==="+t),e.batchs=t.data.data})}}},A={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticStyle:{"margin-left":"2%"},attrs:{inline:!0}},[a("el-row",[a("el-form-item",{attrs:{label:"批次ID"}},[a("el-input",{attrs:{placeholder:"请输入批次ID",clearable:""},model:{value:e.batchId,callback:function(t){e.batchId=t},expression:"batchId"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.queryBatchInfo}},[e._v("查询")])],1)],1)],1),e._v(" "),a("br"),a("br"),e._v(" "),a("Batch",{attrs:{batchs:e.batchs}})],1)},staticRenderFns:[]};var K={components:{BatchInfo:a("VU/8")(E,A,!1,function(e){a("vwPO")},null,null).exports}},q={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("BatchInfo")],1)},staticRenderFns:[]};var P=a("VU/8")(K,q,!1,function(e){a("37ot")},null,null).exports,O={data:function(){return{register:{applicant:"",orginaztion:"",keyPrefix:"",appName:""}}},methods:{appRegister:function(){var e=this;g.a.post("http://localhost:8088/application/register",{mail:this.register.applicant,Organization:this.register.orginaztion,KeyPrefix:this.register.keyPrefix,applicationName:this.register.appName}).then(function(t){200==t.status&&(console.log(t.status),console.log(t.data),e.$router.push({name:"RegisterTips",params:{htmlStr:t.data}}))})},cancel:function(){console.log("cancel"),this.$refs.registerForm.resetFields()}}},B={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("br"),e._v(" "),a("br"),e._v(" "),a("el-form",{ref:"registerForm",attrs:{model:e.register,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"申请人"}},[a("el-input",{model:{value:e.register.applicant,callback:function(t){e.$set(e.register,"applicant",t)},expression:"register.applicant"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目组"}},[a("el-input",{model:{value:e.register.orginaztion,callback:function(t){e.$set(e.register,"orginaztion",t)},expression:"register.orginaztion"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Key前缀"}},[a("el-input",{model:{value:e.register.keyPrefix,callback:function(t){e.$set(e.register,"keyPrefix",t)},expression:"register.keyPrefix"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"应用名称"}},[a("el-input",{model:{value:e.register.appName,callback:function(t){e.$set(e.register,"appName",t)},expression:"register.appName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.appRegister}},[e._v("申请")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var Q={components:{Register:a("VU/8")(O,B,!1,function(e){a("S9Sr")},null,null).exports}},j={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("Register")],1)},staticRenderFns:[]};var H=a("VU/8")(Q,j,!1,function(e){a("POt+")},null,null).exports,L={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{domProps:{innerHTML:this._s(this.tips)}})])},staticRenderFns:[]};var M=a("VU/8")({data:function(){return{tips:""}},created:function(){this.tips=this.$route.params.htmlStr}},L,!1,function(e){a("OQGh")},null,null).exports,T={data:function(){return{appName:"",apps:[],selectAppStatus:"",appStatus:[{value:"1",label:"通过"},{value:"0",label:"未通过"}]}},methods:{queryAppInfo:function(){var e=this;console.log(this.appName),void 0===this.appName||""==this.appName||null==this.appName?g.a.get("http://localhost:8088/user/app?flag=all").then(function(t){console.log("resp==="+t),e.apps=[],e.apps=t.data.data}):g.a.get("http://localhost:8088/user/app?flag="+this.appName).then(function(t){console.log("resp==="+t),e.apps=[],e.apps=t.data.data})},approval:function(e,t){console.log(this.batchs[e].ID)}}},J={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticStyle:{"margin-left":"2%"},attrs:{inline:!0}},[a("el-row",[a("el-form-item",{attrs:{label:"应用名称"}},[a("el-input",{attrs:{placeholder:"请输入应用名称",clearable:""},model:{value:e.appName,callback:function(t){e.appName=t},expression:"appName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"审批状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.selectAppStatus,callback:function(t){e.selectAppStatus=t},expression:"selectAppStatus"}},e._l(e.appStatus,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.queryAppInfo}},[e._v("查询")])],1)],1)],1),e._v(" "),a("br"),a("br"),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.apps}},[a("el-table-column",{attrs:{prop:"application_name",label:"应用名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"secret",label:"密钥",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"applicant",label:"申请人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"access_keys",label:"访问的key",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"CreateAt",label:"创建时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"审批状态(0:未通过;1:通过)",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"审批",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"text",size:"mini"},on:{click:function(a){return e.approval(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-edit"}),e._v("审批")])],1)]}}])})],1)],1)},staticRenderFns:[]};var Y={components:{AppInfo:a("VU/8")(T,J,!1,function(e){a("iSQQ")},null,null).exports}},G={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("AppInfo")],1)},staticRenderFns:[]};var W=a("VU/8")(Y,G,!1,function(e){a("ghXS")},null,null).exports,X={data:function(){return{user:{username:"",password:""}}},created:function(){},methods:{userLogin:function(){var e=this;this.user.username?this.user.password?g.a.post("/users/login",{mail:this.user.username,password:this.user.password}).then(function(t){0===t.data.code?e.$router.push({path:"/home"}):alert(t.data.msg)}):this.$message.error("请输入密码！"):this.$message.error("请输入用户名！")},userRegister:function(){this.$router.push({path:"/user/register"})}}},Z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login",attrs:{clearfix:""}},[a("div",{staticClass:"login-wrap"},[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-form",{ref:"loginForm",attrs:{model:e.user,"status-icon":"","label-width":"80px"}},[a("h4",[e._v("登录")]),e._v(" "),a("hr"),e._v(" "),a("el-form-item",{attrs:{prop:"username",label:"用户名"}},[a("el-input",{attrs:{placeholder:"请输入用户名","prefix-icon":""},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),e._v(" "),a("el-form-item",{attrs:{id:"password",prop:"password",label:"密码"}},[a("el-input",{attrs:{"show-password":"",placeholder:"请输入密码"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.userLogin()}}},[e._v("登录")])],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.userRegister()}}},[e._v("注册")])],1)],1)],1)],1)],1)])},staticRenderFns:[]};var ee=a("VU/8")(X,Z,!1,function(e){a("4Ezq")},"data-v-26e6dee4",null).exports,te={name:"login",data:function(){return{user:{username:"",keyPrefix:"",organization:""}}},created:function(){},methods:{doRegister:function(){var e=this;this.user.username?this.user.keyPrefix?this.user.organization?g.a.post("/users",{mail:this.user.username,keyPrefix:this.user.keyPrefix,project:this.user.organization}).then(function(t){0===t.data.code?e.$router.push({path:"/"}):alert(t.data.msg)}):this.$message.error("请输入所在的项目组！"):this.$message.error("请输入key前缀！"):this.$message.error("请输入用户名！")}}},ae={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("br"),e._v(" "),a("br"),e._v(" "),a("el-form",{ref:"userRegisterForm",attrs:{model:e.user,"label-width":"80px"}},[a("h3",[e._v("注册")]),e._v(" "),a("el-form-item",{attrs:{prop:"username",label:"用户名"}},[a("el-input",{attrs:{placeholder:"请输入邮箱前缀"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"keyPrefix",label:"key前缀"}},[a("el-input",{attrs:{placeholder:"请输入key前缀"},model:{value:e.user.keyPrefix,callback:function(t){e.$set(e.user,"keyPrefix",t)},expression:"user.keyPrefix"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"organization",label:"项目组"}},[a("el-input",{attrs:{placeholder:"请输入所在项目组"},model:{value:e.user.organization,callback:function(t){e.$set(e.user,"organization",t)},expression:"user.organization"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.doRegister()}}},[e._v("注册")])],1)],1)],1)},staticRenderFns:[]};var le=a("VU/8")(te,ae,!1,function(e){a("yOkD")},"data-v-e2dec4ca",null).exports,ne={components:{UserRegister:le}},re={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("UserRegister")],1)},staticRenderFns:[]};var se=a("VU/8")(ne,re,!1,function(e){a("NgBu")},"data-v-11757581",null).exports,ie={components:{UsrRegister:le}},oe={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("UsrRegister")],1)},staticRenderFns:[]};var ce=a("VU/8")(ie,oe,!1,function(e){a("aNvQ")},null,null).exports,ue={data:function(){return{userName:"",users:[],selectuserStatus:"",userStatus:[{value:"1",label:"通过"},{value:"0",label:"未通过"}]}},methods:{queryAppInfo:function(){var e=this;console.log(this.userName),g.a.get("/users?name="+this.userName+"& status="+this.userStatus).then(function(t){console.log("resp==="+t),e.apps=[],e.apps=t.data.data})},approval:function(e,t){console.log(this.batchs[e].ID)}}},pe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticStyle:{"margin-left":"2%"},attrs:{inline:!0}},[a("el-row",[a("el-form-item",{attrs:{label:"用户名称"}},[a("el-input",{attrs:{placeholder:"请输入用户名称",clearable:""},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"审批状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.selectuserStatus,callback:function(t){e.selectuserStatus=t},expression:"selectuserStatus"}},e._l(e.userStatus,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.queryAppInfo}},[e._v("查询")])],1)],1)],1),e._v(" "),a("br"),a("br"),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.users}},[a("el-table-column",{attrs:{prop:"user_name",label:"用户名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"access_keys",label:"Key前缀",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"organization",label:"项目组",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"role_type",label:"角色(0:普通用户;1:管理员)",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"CreateAt",label:"创建时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"审批状态(0:未通过;1:通过)",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"审批",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"text",size:"mini"},on:{click:function(a){return e.approval(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-edit"}),e._v("审批")])],1)]}}])})],1)],1)},staticRenderFns:[]};var de={components:{User:a("VU/8")(ue,pe,!1,function(e){a("od3i")},null,null).exports}},me={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("User")],1)},staticRenderFns:[]};var fe=a("VU/8")(de,me,!1,function(e){a("1Yd7")},"data-v-1e81e65c",null).exports;l.default.use(r.a);var he=new r.a({routes:[{path:"/",name:"Login",component:ee},{path:"/home",name:"Home",component:i,children:[{path:"/key",name:"key",component:w,meta:{requireAuth:!0}},{path:"/key/batch/delete",name:"BatchDelete",component:D,meta:{requireAuth:!0}},{path:"/key/batch/manage",name:"BatchManage",component:P,meta:{requireAuth:!0}},{path:"/app/register",name:"AppRegister",component:H,meta:{requireAuth:!0}},{path:"/app/register/tips",name:"AppRegisterTips",component:M,meta:{requireAuth:!0}},{path:"/app",name:"AppQuery",component:W,meta:{requireAuth:!0}},{path:"/user/add",name:"UserAdd",component:ce},{path:"/user/info",name:"UserInfo",component:fe}]},{path:"/user/register",name:"UserRegister",component:se}]}),ve=a("zL8q"),be=a.n(ve);a("tvR6");l.default.use(u.a);var ge=new u.a.Store({state:{cart:JSON.parse(localStorage.getItem("cart"))||[],clusters:[{value:"codis-demo",label:"codis-demo"},{value:"codis",label:"codis"},{value:"crm",label:"crm"},{value:"kooup",label:"kooup"},{value:"eb",label:"eb"},{value:"live",label:"live"}]},mutations:{addCart:function(e,t){var a=e.cart.find(function(e){return e.text==t.text});a?a.count+=1:e.cart.push(c()({},t,{count:1}))},cartadd:function(e,t){e.cart[t].count+=1},cartsub:function(e,t){e.cart[t].count-=1}},getters:{cartTotal:function(e){var t=0;return e.cart.forEach(function(e){t+=e.count}),t},getClusters:function(e){return e.clusters}}});ge.subscribe(function(e,t){localStorage.setItem("cart",S()(t.cart))});var _e=ge,ye=a("Rf8U"),ke=a.n(ye);l.default.config.productionTip=!1,l.default.use(be.a),l.default.use(ke.a,g.a),g.a.defaults.baseURL="http://localhost:8088",new l.default({el:"#app",store:_e,router:he,components:{App:n.default},template:"<App/>"})},NgBu:function(e,t){},OQGh:function(e,t){},OTEH:function(e,t){},"POt+":function(e,t){},"Ql6+":function(e,t){},S9Sr:function(e,t){},VaRK:function(e,t,a){"use strict";var l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("transition",{attrs:{name:"fade"}},[t("router-view")],1)],1)},staticRenderFns:[]};t.a=l},Whpv:function(e,t){},Xjwb:function(e,t){},aNvQ:function(e,t){},ddSb:function(e,t){},ghXS:function(e,t){},iSQQ:function(e,t){},kpxv:function(e,t){},od3i:function(e,t){},tYsQ:function(e,t){},tvR6:function(e,t){},vwPO:function(e,t){},xJD8:function(e,t){},yOkD:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.ac4d057055dc55bffc5c.js.map